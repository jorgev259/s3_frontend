{"version":3,"sources":["js/FolderList.js","App.js","index.js"],"names":["FolderList","state","searchResult","searchQuery","className","style","padding","this","props","folders","map","i","children","name","length","key","depth","path","regions","region","public","href","join","download","React","Component","Folder","open","marginLeft","onClick","setState","App","s3Files","current","message","handleSearch","ev","persist","filter","folder","includes","target","value","toUpperCase","handleRegion","get","then","res","data","Object","keys","parent","list","shift","paths","result","level","forEach","file","split","reduce","r","a","push","class","height","type","placeholder","onChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c18cb8f0.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react'\nimport '../css/Search.css'\nimport '../css/Folder.css'\n\nexport default class FolderList extends React.Component {\n  state={ searchResult: [], searchQuery: '' }\n\n  render () {\n    return (\n      <div className='col-md-12'>\n        <div className='ibox float-e-margins'>\n          <div className='ibox-content'>\n            <div className='file-manager'>\n              <ul className='folder-list' style={{ padding: 0 }}>\n                {this.props.folders.map(({ children, name }, i) => (\n                  children.length > 0\n                    ? <Folder key={i} name={name} children={children} depth={0} path={['https:/', this.props.regions[this.props.region] ? this.props.regions[this.props.region].public : '', name]} />\n                    : <li><a href={['https:/', this.props.regions[this.props.region] ? this.props.regions[this.props.region].public : '', name].join('/')} download><i className='fa fa-file' />{name}</a></li>\n                ))}\n              </ul>\n              <div className='clearfix' />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Folder extends React.Component {\n  state = { open: false }\n  render () {\n    return (\n      <>\n        <li style={{ marginLeft: `${10 * this.props.depth}px` }} onClick={() => this.setState({ open: !this.state.open })}><a><i className={`fa fa-folder${this.state.open ? '-open' : ''}`} />{this.props.name}</a></li>\n        {this.state.open ? this.props.children.map(({ children, name }, i) => (\n          children.length > 0\n            ? <Folder depth={this.props.depth + 1} key={i} name={name} children={children} path={[...this.props.path, name]} />\n            : <li style={{ marginLeft: `${10 * (this.props.depth + 1)}px` }}><a href={[...this.props.path, name].join('/')} download><i className='fa fa-file' />{name}</a></li>\n        )) : null}\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport './css/App.css'\n\nimport FolderList from './js/FolderList'\n\nimport { get } from 'axios'\n\nexport default class App extends React.Component {\n  state = { s3Files: [], current: '', region: '', regions: {}, message: 'Custom message not retrieved' }\n\n  componentDidMount () {\n    get('api/regions').then(res => this.setState({ regions: res.data, region: Object.keys(res.data)[0] }))\n    get('api/message').then(res => this.setState({ message: res.data }))\n  }\n\n  handlePathList (parent, list) {\n    if (list.length > 1) {\n      return parent[list.shift()]\n    }\n  }\n\n  componentDidUpdate () {\n    get(`api/files/${this.state.region}`).then(res => {\n      const paths = res.data\n      const result = []\n      const level = { result }\n\n      paths.forEach(({ file }) => {\n        file.split('/').reduce((r, name, i, a) => {\n          if (!r[name]) {\n            r[name] = { result: [] }\n            r.result.push({ name, children: r[name].result })\n          }\n\n          return r[name]\n        }, level)\n      })\n\n      this.setState({ s3Files: result })\n    })\n  }\n\n  handleSearch = (ev) => {\n    ev.persist()\n    this.setState({\n      searchResult: this.props.folders.filter(folder => folder.includes(ev.target.value.toUpperCase())),\n      searchQuery: ev.target.value\n    })\n  }\n\n  handleRegion = (ev) => {\n    ev.persist()\n    this.setState({\n      region: ev.target.value\n    })\n  }\n\n  render () {\n    return (\n      <>\n        <div className='sticky-top'>\n          <div class='row' style={{ height: '40px' }}>\n            <div class='col-md-12'>\n              <div className='search'>\n                <input type='text' className='searchTerm' placeholder='What are you looking for?' onChange={this.handleSearch} />\n              </div>\n            </div>\n          </div>\n          <div class='row' style={{ height: '60px' }}>\n            <div class='col-md-12'>\n              <span className='custom-dropdown'>\n                <select onChange={this.handleRegion}>\n                  {Object.keys(this.state.regions).map(region => <option value={region} key={region}>{region}</option>)}\n                </select>\n              </span>\n            </div>\n          </div>\n          <div class='row' style={{ height: '40px' }}>\n            <div class='col-md-12'>\n              <span>\n                {this.state.message}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div class='row'>\n          <FolderList regions={this.state.regions} region={this.state.region} folders={this.state.s3Files} />\n        </div>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'font-awesome/css/font-awesome.min.css'\nimport './css/index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}