(this.webpackJsonps3_soc=this.webpackJsonps3_soc||[]).push([[0],{23:function(e,t,a){e.exports=a(62)},30:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),c=a.n(r),l=(a(28),a(29),a(30),a(3)),i=a(4),o=a(2),h=a(6),m=a(5),p=a(22),u=a.n(p),d=(a(42),a(9)),f=a(8),g=a.n(f),v=(a(43),a(44),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.folders.map((function(t,a){return t.children.length>0?s.a.createElement(E,Object.assign({key:a,search:e.props.search},t,{depth:0,path:[e.props.public,t.name]})):s.a.createElement("li",null,s.a.createElement("a",{href:g()("https://",e.props.public,t.name),download:!0},s.a.createElement("i",{className:"fa fa-file"}),t.name))}));return s.a.createElement("div",{className:"file-manager"},s.a.createElement("ul",{className:"folder-list",style:{padding:0}},t),s.a.createElement("div",{className:"clearfix"}))}}]),a}(s.a.Component)),E=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e,n;Object(l.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return Object(o.a)(n,(e=n=t.call.apply(t,[this].concat(r)),n.state={open:!1},e))}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.children.map((function(t,n){return t.children.length>0?s.a.createElement(a,Object.assign({key:n,search:e.props.search},t,{depth:e.props.depth+1,path:[].concat(Object(d.a)(e.props.path),[t.name])})):s.a.createElement("li",{key:n,style:{marginLeft:"".concat(10*(e.props.depth+1),"px")}},s.a.createElement("a",{href:g.a.apply(void 0,["https://"].concat(Object(d.a)(e.props.path),[t.name])),download:!0},s.a.createElement("i",{className:"fa fa-file"}),t.name))}));return t.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{style:{marginLeft:"".concat(10*this.props.depth,"px")},onClick:function(){return e.setState({open:!e.state.open})}},s.a.createElement("a",null,s.a.createElement("i",{className:"fa fa-folder".concat(this.state.open?"-open":"")}),this.props.name)),this.state.open?t:null):null}}]),a}(s.a.Component),y=a(7),b=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e,n;Object(l.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return Object(o.a)(n,(e=n=t.call.apply(t,[this].concat(r)),n.state={paths:[],folders:[],region:"",regions:{},message:"Custom message not retrieved",search:"",loading:!0},n.handleSearch=function(e){e.persist(),n.typingTimer&&clearTimeout(n.typingTimer),n.typingTimer=setTimeout((function(){n.setState({search:e.target.value.toLowerCase()},n.refreshFiles)}),3e3)},n.handleRegion=function(e){e.persist(),n.setState({region:e.target.value},n.refreshPaths)},e))}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(y.get)("api/regions").then((function(t){return e.setState({regions:t.data,region:Object.keys(t.data)[0]},e.refreshPaths)})),Object(y.get)("api/message").then((function(t){return e.setState({message:t.data})}))}},{key:"refreshFiles",value:function(){var e=this,t=[],a={result:t};this.state.paths.filter((function(t){var a=t.file;return""===e.state.search||a.toLowerCase().includes(e.state.search)})).forEach((function(e){e.file.split("/").reduce((function(e,t,a,n){return e[t]||""===t||(e[t]={result:[]},e.result.push({name:t,children:e[t].result})),e[t]}),a)})),this.setState({folders:t,loading:!1})}},{key:"refreshPaths",value:function(){var e=this;this.setState({loading:!0},(function(){Object(y.get)("api/files/".concat(e.state.region)).then((function(t){return e.setState({paths:t.data},e.refreshFiles)}))}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"sticky-top"},s.a.createElement("div",{className:"row",style:{height:"40px"}},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"search"},s.a.createElement("input",{type:"text",className:"searchTerm",placeholder:"What are you looking for?",onChange:this.handleSearch})))),s.a.createElement("div",{className:"row",style:{height:"60px"}},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("span",{className:"custom-dropdown"},s.a.createElement("select",{onChange:this.handleRegion},Object.keys(this.state.regions).map((function(e){return s.a.createElement("option",{value:e,key:e},e)})))))),s.a.createElement("div",{className:"row",style:{height:"40px"}},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("span",null,u()(this.state.message))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"ibox float-e-margins"},s.a.createElement("div",{className:"ibox-content"},this.state.loading?s.a.createElement("div",{className:"spin mx-auto",style:{height:"100px",width:"100px"}},s.a.createElement("img",{alt:"",src:"/img/clouds.png",style:{height:"100px",width:"100px"}})):s.a.createElement(v,Object.assign({},this.state,this.state.regions[this.state.region])))))))}}]),a}(s.a.Component);c.a.render(s.a.createElement(b,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.8899eaf1.chunk.js.map