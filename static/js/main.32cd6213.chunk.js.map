{"version":3,"sources":["js/FolderList.js","App.js","index.js"],"names":["FolderList","items","this","props","folders","map","item","i","children","length","key","search","depth","path","public","name","href","urljoin","download","className","style","padding","React","Component","Folder","state","open","marginLeft","onClick","setState","App","paths","region","regions","message","loading","handleSearch","ev","persist","typingTimer","clearTimeout","setTimeout","target","value","toLowerCase","refreshFiles","handleRegion","refreshPaths","get","then","res","data","Object","keys","result","level","filter","file","includes","forEach","split","reduce","r","a","push","height","type","placeholder","onChange","Parser","width","alt","src","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.32cd6213.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react'\nimport urljoin from 'url-join'\nimport '../css/Search.css'\nimport '../css/Folder.css'\n\nexport default class FolderList extends React.Component {\n  render () {\n    const items = this.props.folders.map((item, i) => (\n      item.children.length > 0\n        ? <Folder key={i} search={this.props.search} {...item} depth={0} path={[this.props.public, item.name]} />\n        : <li><a href={urljoin('https://', this.props.public, item.name)} download><i className='fa fa-file' />{item.name}</a></li>\n\n    ))\n\n    return (\n      <div className='file-manager'>\n        <ul className='folder-list' style={{ padding: 0 }}>\n          {items}\n        </ul>\n        <div className='clearfix' />\n      </div>\n    )\n  }\n}\n\nclass Folder extends React.Component {\n  state = { open: false }\n  render () {\n    var items = this.props.children.map((item, i) => (\n      item.children.length > 0\n        ? <Folder key={i} search={this.props.search} {...item} depth={this.props.depth + 1} path={[...this.props.path, this.props.name, item.name]} />\n        : <li key={i} style={{ marginLeft: `${10 * (this.props.depth + 1)}px` }}><a href={urljoin('https://', ...this.props.path, item.name)} download><i className='fa fa-file' />{item.name}</a></li>\n\n    ))\n\n    return items.length > 0 ? (\n      <>\n        <li style={{ marginLeft: `${10 * this.props.depth}px` }} onClick={() => this.setState({ open: !this.state.open })}><a><i className={`fa fa-folder${this.state.open ? '-open' : ''}`} />{this.props.name}</a></li>\n        {this.state.open ? items : null}\n      </>\n    ) : null\n  }\n}\n","import React from 'react'\nimport Parser from 'html-react-parser'\nimport './css/App.css'\n\nimport FolderList from './js/FolderList'\n\nimport { get } from 'axios'\n\nexport default class App extends React.Component {\n  state = { paths: [], folders: [], region: '', regions: {}, message: 'Custom message not retrieved', search: '', loading: true }\n\n  componentDidMount () {\n    get('api/regions').then(res => this.setState({ regions: res.data, region: Object.keys(res.data)[0] }, this.refreshPaths))\n    get('api/message').then(res => this.setState({ message: res.data }))\n  }\n\n  refreshFiles () {\n    const result = []\n    const level = { result }\n    this.state.paths.filter(({ file }) => this.state.search === '' || file.toLowerCase().includes(this.state.search)).forEach(({ file }) => {\n      file.split('/').reduce((r, name, i, a) => {\n        if (!r[name] && name !== '') {\n          r[name] = { result: [] }\n          r.result.push({ name, children: r[name].result })\n        }\n\n        return r[name]\n      }, level)\n    })\n\n    this.setState({ folders: result, loading: false })\n  }\n\n  refreshPaths () {\n    this.setState({ loading: true }, () => {\n      get(`api/files/${this.state.region}`).then(res => this.setState({ paths: res.data }, this.refreshFiles))\n    })\n  }\n\n  handleSearch = (ev) => {\n    ev.persist()\n    if (this.typingTimer) clearTimeout(this.typingTimer)\n    this.typingTimer = setTimeout(() => {\n      this.setState({\n        search: ev.target.value.toLowerCase()\n      }, this.refreshFiles)\n    }, 3 * 1000)\n  }\n\n  handleRegion = (ev) => {\n    ev.persist()\n    this.setState({\n      region: ev.target.value\n    }, this.refreshPaths)\n  }\n\n  render () {\n    return (\n      <>\n        <div className='sticky-top'>\n          <div className='row' style={{ height: '40px' }}>\n            <div className='col-md-12'>\n              <div className='search'>\n                <input type='text' className='searchTerm' placeholder='What are you looking for?' onChange={this.handleSearch} />\n              </div>\n            </div>\n          </div>\n          <div className='row' style={{ height: '60px' }}>\n            <div className='col-md-12'>\n              <span className='custom-dropdown'>\n                <select onChange={this.handleRegion}>\n                  {Object.keys(this.state.regions).map(region => <option value={region} key={region}>{region}</option>)}\n                </select>\n              </span>\n            </div>\n          </div>\n          <div className='row' style={{ height: '40px' }}>\n            <div className='col-md-12'>\n              <span>\n                {Parser(this.state.message)}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className='row'>\n          <div className='col-md-12'>\n            <div className='ibox float-e-margins'>\n              <div className='ibox-content'>\n                {this.state.loading ? (\n                  <div className='spin mx-auto' style={{ height: '100px', width: '100px' }}>\n                    <img alt='' src='/img/clouds.png' style={{ height: '100px', width: '100px' }} />\n                  </div>\n                ) : <FolderList {...this.state} {...this.state.regions[this.state.region]} />}\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'font-awesome/css/font-awesome.min.css'\nimport './css/index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}